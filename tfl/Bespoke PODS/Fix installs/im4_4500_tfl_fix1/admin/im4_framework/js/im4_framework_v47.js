/*-----------------------------------------------------------------------------
--
--   PVCS Identifiers :-
--
--       pvcsid           : $Header:   //new_vm_latest/archives/customer/tfl/Bespoke PODS/Fix installs/im4_4500_tfl_fix1/admin/im4_framework/js/im4_framework_v47.js-arc   1.0   Jan 14 2016 20:14:02   Sarah.Williams  $
--       Module Name      : $Workfile:   im4_framework_v47.js  $
--       Date into PVCS   : $Date:   Jan 14 2016 20:14:02  $
--       Date fetched Out : $Modtime:   Nov 16 2011 20:56:06  $
--       PVCS Version     : $Revision:   1.0  $
-----------------------------------------------------------------------------
--	Copyright (c) exor corporation ltd, 2009
-----------------------------------------------------------------------------
*/
var EXOR={};EXOR.mX;EXOR.mY;EXOR.setXY=function(b,a){mX=b;mY=a};EXOR.getX=function(){return mX};EXOR.getY=function(){return mY};function callNetworkLOV(o){if(o.value.length<3){return}var g=null;var d=new Array[20];for(var j=0;j<20;j++){d[j]=new Array(3)}var f=new htmldb_Get(null,html_GetElement("pFlowId").value,"APPLICATION_PROCESS=populateNetworkLOVdata",0);f.add("NETWORK_NAME",o.value);gReturn=f.get("XML");if(gReturn){var p=gReturn.getElementsByTagName("DESCR").length;for(var j=0;j<p;j++){var e=gReturn.getElementsByTagName("DESCR")[j];var m=gReturn.getElementsByTagName("UNIQUE")[j];var k=gReturn.getElementsByTagName("GROUP")[j];d[j][0]=e.getAttribute("value");d[j][1]=m.getAttribute("value");d[j][2]=k.getAttribute("value")}}f=null;var l=new YAHOO.widget.DS_JSArray(d);var c=YAHOO.util.Dom.getX("P0_NETWORK_INPUT");var a=YAHOO.util.Dom.getY("P0_NETWORK_INPUT");a=a+22;var n=new Array(2);n[0]=c;n[1]=a;YAHOO.util.Dom.setXY("networkLOVcontainer",n);var b=new YAHOO.widget.AutoComplete("P0_NETWORK_INPUT","networkLOVcontainer",l);b.prehighlightClassName="yui-ac-prehighlight";b.typeAhead=false;b.useShadow=true;b.minQueryLength=3;b.autoHighlight=false;b.useIFrame=true;b.allowBrowserAutocomplete=false;b.maxResultsDisplayed=20;b.animHoriz=true;b.animSpeed=0.2;b.formatResult=function(q,u){var t=q[0];var r=q[1];var s=q[2];var i=["<div id='networkLOVresult'>","<span class=networkLOVdescr>",t,"</span>","<span class=networkLOVunique>",r,"</span>","<span class=networkLOVgroup>",s,"</span>","</div>"];return(i.join(""))};function h(q,i){YAHOO.util.Dom.get("P0_RSE_DESCR").value=i[2][0];YAHOO.util.Dom.get("P0_RSE_UNIQUE").value=i[2][1];setSessionValue("P0_RSE_DESCR",i[2][0]);setSessionValue("P0_RSE_UNIQUE",i[2][1]);YAHOO.util.Dom.get("P0_LOCATION").value=i[2][1];setSessionValue("P0_LOCATION",i[2][1])}b.itemSelectEvent.subscribe(h);b.textboxFocusEvent.subscribe(function(){var q=YAHOO.util.Dom.get("P0_NETWORK_INPUT").value;if(q.length===0){var i=this;setTimeout(function(){i.sendQuery(q)},0)}})}function callTownLOV(e){if(e.value.length<1){return}var f=null;var a=new Array(100);for(var j=0;j<100;j++){a[j]=new Array(2)}var b=new htmldb_Get(null,html_GetElement("pFlowId").value,"APPLICATION_PROCESS=populateTownLOVdata",0);b.add("TOWN_NAME",e.value);gReturn=b.get("XML");if(gReturn){var o=gReturn.getElementsByTagName("TOWN").length;for(var j=0;j<o;j++){var k=gReturn.getElementsByTagName("TOWN")[j];var l=gReturn.getElementsByTagName("COUNTY")[j];a[j][0]=k.getAttribute("value");a[j][1]=l.getAttribute("value")}}b=null;var h=new YAHOO.widget.DS_JSArray(a);var n=YAHOO.util.Dom.getX("P0_TOWN_INPUT");var m=YAHOO.util.Dom.getY("P0_TOWN_INPUT");m=m+22;var d=new Array(2);d[0]=n;d[1]=m;YAHOO.util.Dom.setXY("townLOVcontainer",d);var c=new YAHOO.widget.AutoComplete("P0_TOWN_INPUT","townLOVcontainer",h);c.prehighlightClassName="yui-ac-prehighlight";c.typeAhead=false;c.useShadow=true;c.minQueryLength=1;c.autoHighlight=false;c.useIFrame=true;c.allowBrowserAutocomplete=false;c.maxResultsDisplayed=20;c.animHoriz=true;c.animSpeed=0.2;c.formatResult=function(p,s){var r=p[0];var q=p[1];var i=["<div id='townLOVresult'>","<span class=townLOVtown>",r,"</span>","<span class=townLOVcounty>",q,"</span>","</div>"];return(i.join(""))};function g(p,i){YAHOO.util.Dom.get("P0_TOWN").value=i[2][0];YAHOO.util.Dom.get("P0_COUNTY").value=i[2][1];setSessionValue("P0_TOWN",i[2][0]);setSessionValue("P0_COUNTY",i[2][1]);clearStreet()}c.itemSelectEvent.subscribe(g);c.textboxFocusEvent.subscribe(function(){var p=YAHOO.util.Dom.get("P0_TOWN_INPUT").value;if(p.length===0){var i=this;setTimeout(function(){i.sendQuery(p)},0)}})}function callStreetLOV(a){if(a.value.length<1){return}var e=null;var j=new Array(100);for(var h=0;h<100;h++){j[h]=new Array(4)}var b=new htmldb_Get(null,html_GetElement("pFlowId").value,"APPLICATION_PROCESS=populateStreetLOVdata",0);b.add("STREET_NAME",a.value);var p=document.getElementById("P0_TOWN_INPUT").value;b.add("STREET_TOWN_NAME",p);gReturn=b.get("XML");if(gReturn){var q=gReturn.getElementsByTagName("STREET").length;for(var h=0;h<q;h++){var g=gReturn.getElementsByTagName("STREET")[h];var c=gReturn.getElementsByTagName("NSG")[h];var l=gReturn.getElementsByTagName("TOWN")[h];var o=gReturn.getElementsByTagName("COUNTY")[h];j[h][0]=g.getAttribute("value");j[h][1]=c.getAttribute("value");j[h][2]=l.getAttribute("value");j[h][3]=o.getAttribute("value")}}else{return}b=null;var k=new YAHOO.widget.DS_JSArray(j);var n=YAHOO.util.Dom.getX("P0_STREET_INPUT");var m=YAHOO.util.Dom.getY("P0_STREET_INPUT");m=m+22;var d=new Array(2);d[0]=n;d[1]=m;YAHOO.util.Dom.setXY("streetLOVcontainer",d);streetLOV=new YAHOO.widget.AutoComplete("P0_STREET_INPUT","streetLOVcontainer",k);streetLOV.prehighlightClassName="yui-ac-prehighlight";streetLOV.typeAhead=false;streetLOV.useShadow=true;streetLOV.minQueryLength=1;streetLOV.autoHighlight=false;streetLOV.useIFrame=true;streetLOV.allowBrowserAutocomplete=false;streetLOV.maxResultsDisplayed=20;streetLOV.animHoriz=true;streetLOV.animSpeed=0.2;streetLOV.formatResult=function(r,w){var u=r[0];var s=r[1];var v=r[2];var t=r[3];var i=["<div id='streetLOVresult'>","<span class=streetLOVstreet>",u,"</span>","<span class=streetLOVnsg>",s,"</span>","<span class=streetLOVtown>",v,"</span>","<span class=streetLOVcounty>",t,"</span>","</div>"];return(i.join(""))};function f(r,i){YAHOO.util.Dom.get("P0_STREET").value=i[2][0];YAHOO.util.Dom.get("P0_NSG").value=i[2][1];setSessionValue("P0_STREET",i[2][0]);setSessionValue("P0_NSG",i[2][1])}streetLOV.itemSelectEvent.subscribe(f);streetLOV.textboxFocusEvent.subscribe(function(){var r=YAHOO.util.Dom.get("P0_STREET_INPUT").value;if(r.length===0){var i=this;setTimeout(function(){i.sendQuery(r)},0)}})}function callEnqIDLOV(g){if(g.value.length<3){return}var d=null;var h=new Array(100);for(var f=0;f<100;f++){h[f]=new Array(5)}var b=new htmldb_Get(null,html_GetElement("pFlowId").value,"APPLICATION_PROCESS=populateEnqIdLOVdata",0);b.add("ENQ_ID_NAME",g.value);gReturn=b.get("XML");if(gReturn){var r=gReturn.getElementsByTagName("ENQUIRY_ID").length;for(var f=0;f<r;f++){var p=gReturn.getElementsByTagName("ENQUIRY_ID")[f];var l=gReturn.getElementsByTagName("CATEGORY")[f];var o=gReturn.getElementsByTagName("CLASS")[f];var k=gReturn.getElementsByTagName("TYPE")[f];var j=gReturn.getElementsByTagName("STATUS")[f];h[f][0]=p.getAttribute("value");h[f][1]=l.getAttribute("value");h[f][2]=o.getAttribute("value");h[f][3]=k.getAttribute("value");h[f][4]=j.getAttribute("value")}}b=null;var q=new YAHOO.widget.DS_JSArray(h);var n=YAHOO.util.Dom.getX("P0_ENQ_ID_INPUT");var m=YAHOO.util.Dom.getY("P0_ENQ_ID_INPUT");m=m+22;var c=new Array(2);c[0]=n;c[1]=m;YAHOO.util.Dom.setXY("enqidLOVcontainer",c);var a=new YAHOO.widget.AutoComplete("P0_ENQ_ID_INPUT","enqidLOVcontainer",q);a.prehighlightClassName="yui-ac-prehighlight";a.typeAhead=false;a.useShadow=true;a.minQueryLength=3;a.autoHighlight=false;a.useIFrame=true;a.allowBrowserAutocomplete=false;a.maxResultsDisplayed=20;a.animHoriz=true;a.animSpeed=0.2;a.formatResult=function(u,y){var t=u[0];var s=u[1];var x=u[2];var v=u[3];var w=u[4];var i=["<div id='enqidLOVresult'>","<span class=enquiryLOVenqid>",t,"</span>","<span class=enquiryLOVcategory>",s,"</span>","<span class=enquiryLOVclass>",x,"</span>","<span class=enquiryLOVtype>",v,"</span>","<span class=enquiryLOVstatus>",w,"</span>","</div>"];return(i.join(""))};function e(s,i){YAHOO.util.Dom.get("P0_ENQ_ID").value=i[1][0];setSessionValue("P0_ENQ_ID",i[1][0])}a.itemSelectEvent.subscribe(e);a.textboxFocusEvent.subscribe(function(){var s=YAHOO.util.Dom.get("P0_ENQ_ID_INPUT").value;if(s.length===0){var i=this;setTimeout(function(){i.sendQuery(s)},0)}})}function callSurnameLOV(l){if(l.value.length<2){return}var e=null;var j=new Array(100);for(var h=0;h<100;h++){j[h]=new Array(3)}var d=new htmldb_Get(null,html_GetElement("pFlowId").value,"APPLICATION_PROCESS=populateSurnameLOVdata",0);d.add("SURNAME_NAME",l.value);gReturn=d.get("XML");if(gReturn){var o=gReturn.getElementsByTagName("SURNAME").length;for(var h=0;h<o;h++){var c=gReturn.getElementsByTagName("SURNAME")[h];var a=gReturn.getElementsByTagName("FIRSTNAME")[h];var g=gReturn.getElementsByTagName("TITLE")[h];j[h][0]=c.getAttribute("value");j[h][1]=a.getAttribute("value");j[h][2]=g.getAttribute("value")}}d=null;var b=new YAHOO.widget.DS_JSArray(j);var n=YAHOO.util.Dom.getX("P0_SURNAME_INPUT");var m=YAHOO.util.Dom.getY("P0_SURNAME_INPUT");m=m+22;var k=new Array(2);k[0]=n;k[1]=m;YAHOO.util.Dom.setXY("surnameLOVcontainer",k);var p=new YAHOO.widget.AutoComplete("P0_SURNAME_INPUT","surnameLOVcontainer",b);p.prehighlightClassName="yui-ac-prehighlight";p.typeAhead=false;p.useShadow=true;p.minQueryLength=2;p.autoHighlight=false;p.useIFrame=true;p.allowBrowserAutocomplete=false;p.maxResultsDisplayed=20;p.animHoriz=true;p.animSpeed=0.2;p.formatResult=function(r,u){var t=r[0];var s=r[1];var q=r[2];var i=["<div id='surnameLOVresult'>","<span class=surnameLOVsurname>",t,"</span>","<span class=firstnameLOVfirstname>",s,"</span>","<span class=titleLOVtitle>",q,"</span>","</div>"];return(i.join(""))};function f(q,i){YAHOO.util.Dom.get("P0_SURNAME").value=YAHOO.util.Dom.get("P0_SURNAME_INPUT").value;setSessionValue("P0_SURNAME",YAHOO.util.Dom.get("P0_SURNAME_INPUT").value)}p.itemSelectEvent.subscribe(f);p.textboxFocusEvent.subscribe(function(){var q=YAHOO.util.Dom.get("P0_SURNAME_INPUT").value;if(q.length===0){var i=this;setTimeout(function(){i.sendQuery(q)},0)}})}function callpostcodeLOV(h){if(h.value.length<1){return}var d=null;var a=new Array(100);for(var g=0;g<100;g++){a[g]=new Array(1)}var c=new htmldb_Get(null,html_GetElement("pFlowId").value,"APPLICATION_PROCESS=populatePostcodeLOVdata",0);c.add("POSTCODE_NAME",h.value);gReturn=c.get("XML");if(gReturn){var m=gReturn.getElementsByTagName("POSTCODE").length;for(var g=0;g<m;g++){var b=gReturn.getElementsByTagName("POSTCODE")[g];a[g][0]=b.getAttribute("value")}}c=null;var f=new YAHOO.widget.DS_JSArray(a);var l=YAHOO.util.Dom.getX("P0_POSTCODE_INPUT");var k=YAHOO.util.Dom.getY("P0_POSTCODE_INPUT");k=k+22;var j=new Array(2);j[0]=l;j[1]=k;YAHOO.util.Dom.setXY("postcodeLOVcontainer",j);var n=new YAHOO.widget.AutoComplete("P0_POSTCODE_INPUT","postcodeLOVcontainer",f);n.prehighlightClassName="yui-ac-prehighlight";n.typeAhead=false;n.useShadow=true;n.minQueryLength=1;n.autoHighlight=false;n.useIFrame=true;n.allowBrowserAutocomplete=false;n.maxResultsDisplayed=20;n.animHoriz=true;n.animSpeed=0.2;n.formatResult=function(o,q){var p=o[0];var i=["<div id='postcodeLOVresult'>","<span class=postcodeLOVpostcode>",p,"</span>","</div>"];return(i.join(""))};function e(o,i){YAHOO.util.Dom.get("PO_POSTCODE").value=YAHOO.util.Dom.get("PO_POSTCODE_INPUT").value;setSessionValue("PO_POSTCODE",YAHOO.util.Dom.get("PO_POSTCODE_INPUT").value)}n.itemSelectEvent.subscribe(e);n.textboxFocusEvent.subscribe(function(){var o=YAHOO.util.Dom.get("PO_POSTCODE_INPUT").value;if(o.length===0){var i=this;setTimeout(function(){i.sendQuery(o)},0)}})}function callRespOfLOV(j){if(j.value.length<1){return}var e=null;var b=new Array(100);for(var h=0;h<100;h++){b[h]=new Array(2)}var d=new htmldb_Get(null,html_GetElement("pFlowId").value,"APPLICATION_PROCESS=populateRespOfLOVdata",0);d.add("RESP_OF_NAME",j.value);gReturn=d.get("XML");if(gReturn){var n=gReturn.getElementsByTagName("RESPOF").length;for(var h=0;h<n;h++){var c=gReturn.getElementsByTagName("RESPOF")[h];var a=gReturn.getElementsByTagName("USERID")[h];b[h][0]=c.getAttribute("value");b[h][1]=a.getAttribute("value")}}d=null;var g=new YAHOO.widget.DS_JSArray(b);var m=YAHOO.util.Dom.getX("P0_RESP_OF_INPUT");var l=YAHOO.util.Dom.getY("P0_RESP_OF_INPUT");l=l+22;var k=new Array(2);k[0]=m;k[1]=l;YAHOO.util.Dom.setXY("resp_ofLOVcontainer",k);var o=new YAHOO.widget.AutoComplete("P0_RESP_OF_INPUT","resp_ofLOVcontainer",g);o.prehighlightClassName="yui-ac-prehighlight";o.typeAhead=false;o.useShadow=true;o.minQueryLength=1;o.autoHighlight=false;o.useIFrame=true;o.allowBrowserAutocomplete=false;o.maxResultsDisplayed=20;o.animHoriz=true;o.animSpeed=0.2;o.formatResult=function(p,r){var q=p[0];var i=["<div id='resp_ofLOVresult'>","<span class=resp_ofLOVresp_of>",q,"</span>","</div>"];return(i.join(""))};function f(p,i){YAHOO.util.Dom.get("P0_RESP_OF").value=i[2][0];setSessionValue("P0_RESP_OF",i[2][0]);YAHOO.util.Dom.get("P0_USERID").value=i[2][1];setSessionValue("P0_USERID",i[2][1])}o.itemSelectEvent.subscribe(f);o.textboxFocusEvent.subscribe(function(){var p=YAHOO.util.Dom.get("P0_RESP_OF_INPUT").value;if(p.length===0){var i=this;setTimeout(function(){i.sendQuery(p)},0)}})}function setSessionValue(c,a){var b=new htmldb_Get(null,html_GetElement("pFlowId").value,null,0);b.add(c,a);b.get();b=null}function syncRoad(){YAHOO.util.Dom.get("P0_NETWORK_INPUT").value=YAHOO.util.Dom.get("P0_RSE_DESCR").value}function syncTown(){YAHOO.util.Dom.get("P0_TOWN_INPUT").value=YAHOO.util.Dom.get("P0_TOWN").value}function syncStreet(){YAHOO.util.Dom.get("P0_STREET_INPUT").value=YAHOO.util.Dom.get("P0_STREET").value}function clearTown(){YAHOO.util.Dom.get("P0_TOWN_INPUT").value="";setSessionValue("P0_TOWN_INPUT","");YAHOO.util.Dom.get("P0_TOWN").value="";setSessionValue("P0_TOWN","");YAHOO.util.Dom.get("P0_COUNTY").value="";setSessionValue("P0_COUNTY","")}function clearStreet(){YAHOO.util.Dom.get("P0_STREET_INPUT").value="";setSessionValue("P0_STREET_INPUT","");YAHOO.util.Dom.get("P0_NSG").value="";setSessionValue("P0_NSG","");YAHOO.util.Dom.get("P0_STREET").value="";setSessionValue("P0_STREET","");YAHOO.util.Dom.get("P0_WORK_REF").value="";setSessionValue("P0_WORK_REF","")}function clearDates(){YAHOO.util.Dom.get("P0_FROM_DATE").value="";setSessionValue("P0_FROM_DATE","");YAHOO.util.Dom.get("P0_TO_DATE").value="";setSessionValue("P0_TO_DATE","");YAHOO.util.Dom.get("P0_TO_DATE").value="";setSessionValue("P0_TO_DATE","")}function clearRoad(){YAHOO.util.Dom.get("P0_NETWORK_INPUT").value="";YAHOO.util.Dom.get("P0_RSE_DESCR").value="";YAHOO.util.Dom.get("P0_RSE_UNIQUE").value="";YAHOO.util.Dom.get("P0_LOCATION").value="";setSessionValue("P0_RSE_DESCR",null);setSessionValue("P0_RSE_UNIQUE",null);setSessionValue("P0_LOCATION",null)}function clearDisruption(){YAHOO.util.Dom.get("P0_IMPACT_MINIMAL_VALUE").value="true";YAHOO.util.Dom.get("P0_IMPACT_MINIMAL_0").checked=true;YAHOO.util.Dom.get("P0_IMPACT_SLIGHT_VALUE").value="true";YAHOO.util.Dom.get("P0_IMPACT_SLIGHT_0").checked=true;YAHOO.util.Dom.get("P0_IMPACT_MODERATE_VALUE").value="true";YAHOO.util.Dom.get("P0_IMPACT_MODERATE_0").checked=true;YAHOO.util.Dom.get("P0_IMPACT_SEVERE_VALUE").value="true";YAHOO.util.Dom.get("P0_IMPACT_SEVERE_0").checked=true}function clearEnq(){YAHOO.util.Dom.get("P0_ENQ_ID").value="";YAHOO.util.Dom.get("P0_ENQ_ID_INPUT").value="";YAHOO.util.Dom.get("P0_SURNAME").value="";YAHOO.util.Dom.get("P0_SURNAME_INPUT").value="";YAHOO.util.Dom.get("P0_POSTCODE").value="";YAHOO.util.Dom.get("P0_POSTCODE_INPUT").value="";YAHOO.util.Dom.get("P0_RESP_OF").value="";YAHOO.util.Dom.get("P0_RESP_OF_INPUT").value="";YAHOO.util.Dom.get("P0_USERID").value="";YAHOO.util.Dom.get("P0_DOC_DESCR").value=""}function clearEnqID(){YAHOO.util.Dom.get("P0_ENQ_ID").value="";YAHOO.util.Dom.get("P0_ENQ_ID_INPUT").value="";setSessionValue("P0_ENQ_ID",null);setSessionValue("P0_ENQ_ID_INPUT",null)}function clearEnqText(){YAHOO.util.Dom.get("P0_SURNAME").value="";YAHOO.util.Dom.get("P0_SURNAME_INPUT").value="";YAHOO.util.Dom.get("P0_POSTCODE").value="";YAHOO.util.Dom.get("P0_POSTCODE_INPUT").value="";YAHOO.util.Dom.get("P0_RESP_OF").value="";YAHOO.util.Dom.get("P0_RESP_OF_INPUT").value="";YAHOO.util.Dom.get("P0_USERID").value="";YAHOO.util.Dom.get("P0_DOC_DESCR").value="";setSessionValue("P0_SURNAME",null);setSessionValue("P0_SURNAME_INPUT",null);setSessionValue("P0_POSTCODE",null);setSessionValue("P0_POSTCODE_INPUT",null);setSessionValue("P0_RESP_OF",null);setSessionValue("P0_RESP_OF_INPUT",null);setSessionValue("P0_USERID",null);setSessionValue("P0_DOC_DESCR",null)}function showEnqDetails(c,d,f){setSessionValue("P0_ENQ_ID",c);setSessionValue("P0_ENQ_ID_INPUT",c);var b=new htmldb_Get(null,$x("pFlowId").value,null,20);b.add("P20_ENQ_ID",c);gReturn=b.get();b=null;var a="f?p="+d+":20:"+f;var e=window.open(a,"enqDetails","menubar=no,width=1024,height=768,toolbar=no,scrollbars=yes,resizable=yes,status=no");e.focus()}function showDocAssocs(b,c,e){document.getElementById("P0_ENQ_ID").value=b;setSessionValue("P0_ENQ_ID",b);var a="f?p="+c+":7:"+e;var d=window.open(a,"docAssocs","menubar=no,width=1024,height=550,toolbar=no,scrollbars=yes,resizable=yes,status=no");d.focus()}function showDocAssocsWT(b,d,e,c){setSessionValue("P7_ENQ_ID",b);setSessionValue("P7_DAS_TABLE_NAME",c);var a="f?p="+d+":7:"+e;$("#daContent").attr("src",a);$("#docAss").dialog("option","title","Associated documents for : "+b);$("#docAss").dialog("open")}function setCheckbox(b,a){if(b.value!="false"){b.value="false";document.getElementById(a).value="false";document.getElementById(a).checked="false"}else{b.value="true";document.getElementById(a).value="true";document.getElementById(a).checked="true"}}function showRoadworks(g,m,j){var p=document.getElementById("P0_WORK_REF").value.toUpperCase();var l=document.getElementById("P0_FROM_DATE").value;var h=document.getElementById("P0_TO_DATE").value;var k=document.getElementById("P0_TOWN").value;var c=document.getElementById("P0_STREET").value;var a=document.getElementById("P0_NSG").value;var o=document.getElementById("P0_IMPACT_MINIMAL_VALUE").value;var f=document.getElementById("P0_IMPACT_SLIGHT_VALUE").value;var i=document.getElementById("P0_IMPACT_MODERATE_VALUE").value;var d=document.getElementById("P0_IMPACT_SEVERE_VALUE").value;var n=p+","+l+","+h+","+k+","+c+","+a+","+o+","+f+","+i+","+d;var e="P10_WORK_REF,P10_FROM_DATE,P10_TO_DATE,P10_TOWN,P10_STREET,P10_USRN,P10_IMPACT_MINIMAL,P10_IMPACT_SLIGHT,P10_IMPACT_MODERATE,P10_IMPACT_SEVERE";var b="f?p="+g+":"+j+":"+m+"::::"+e+":"+n;popUp2(b,1000,750)}function showNetworkDetails(b,c,e){setSessionValue("P60_ROAD_CAT",b);var a="f?p="+c+":60:"+e;var d=window.open(a,"networkdetails","menubar=no,width=1024,height=550,toolbar=no,scrollbars=yes,resizable=yes,status=no");d.focus()}function showStreetDetails(e,b,d){setSessionValue("P65_STREET_TYPE",e);var a="f?p="+b+":65:"+d;var c=window.open(a,"streetdetails","menubar=no,width=1024,height=550,toolbar=no,scrollbars=yes,resizable=yes,status=no");c.focus()}function showEnqWorkTray(c){var a="f?p=501:1:"+c;var b=window.open(a,"focus_area","menubar=no,width=1100,height=900,toolbar=no,scrollbars=yes,resizable=yes,status=no");b.focus()}function addmodules(b,c,e){setSessionValue("P912_IBA_ID",b);var a="f?p="+c+":912:"+e;var d=window.open(a,"AddBusinessAreaModules","menubar=no,width=1024,height=550,toolbar=no,scrollbars=yes,resizable=no,status=no");d.focus()}function updateValue(d,b){var c=d;var a=b;gReturn=document.getElementById(c).value;html_GetElement(a).value=gReturn.toUpperCase()}function disFormItems(a){disItem=document.getElementById(a);disItem.disabled=true}function enableFormItems(a){enableItem=document.getElementById(a);enableItem.disabled=false}function disableEnqSearch(a){if(a.value.length>=1){disFormItems("P0_SURNAME_INPUT");disFormItems("P0_POSTCODE_INPUT");disFormItems("P0_RESP_OF_INPUT");clearEnqText()}else{enableFormItems("P0_SURNAME_INPUT");enableFormItems("P0_POSTCODE_INPUT");enableFormItems("P0_RESP_OF_INPUT")}return}function get_select_list_xml1(h,g){var a=null;var f=html_GetElement(g);var c=new htmldb_Get(null,html_GetElement("pFlowId").value,"APPLICATION_PROCESS=docClassLov",0);c.add("DOC_TYPE_ITEM",h.value);gReturn=c.get("XML");if(gReturn&&f){var b=gReturn.getElementsByTagName("option").length;f.length=0;for(var d=0;d<b;d++){var e=gReturn.getElementsByTagName("option")[d];appendToSelect(f,e.getAttribute("value"),e.firstChild.nodeValue)}}c=null}function initialise_lovs(){var b=getElementsByClassName("gri_params");for(var a=0;a<b.length;a++){if(b[a].onchange!=null){b[a].onchange()}}}function get_select_list_xml2(h,g){var a=null;var f=html_GetElement(g);var c=new htmldb_Get(null,html_GetElement("pFlowId").value,"APPLICATION_PROCESS=enquiryTypeLov",0);c.add("DOC_CLASS_ITEM",h.value);gReturn=c.get("XML");if(gReturn&&f){var b=gReturn.getElementsByTagName("option").length;f.length=0;for(var d=0;d<b;d++){var e=gReturn.getElementsByTagName("option")[d];appendToSelect(f,e.getAttribute("value"),e.firstChild.nodeValue)}}c=null}function get_select_list_xml3(f,k,j,h,d){var c=null;var a=html_GetElement(k);var b=new htmldb_Get(null,html_GetElement("pFlowId").value,"APPLICATION_PROCESS="+j,0);b.add(h+d,f.value);b.add(h,f.value);b.add("PARAM_DEP"+d,k);gReturn=b.get("XML");if(gReturn&&a){var l=gReturn.getElementsByTagName("option").length;a.length=0;for(var e=0;e<l;e++){var g=gReturn.getElementsByTagName("option")[e];appendToSelect(a,g.getAttribute("value"),g.firstChild.nodeValue)}}b=null}function addValue(d,c,b,a){get.add(b+a,d.value);get.add("PARAM_DEP"+a,c)}function griClearItem(b,a){setSessionValue("PARAM_DEP"+a,null);setSessionValue("GRIRESULTITEM"+a,null)}function helloWorld(a){alert("Hello World - "+a.value)}function helloWorld2(){alert("Hello World")}function clearAllItems(){setSessionValue("PARAM_DEP1",null);setSessionValue("PARAM_DEP2",null);setSessionValue("PARAM_DEP3",null);setSessionValue("PARAM_DEP4",null);setSessionValue("PARAM_DEP5",null);setSessionValue("PARAM_DEP6",null);setSessionValue("PARAM_DEP7",null);setSessionValue("PARAM_INDEP",null);setSessionValue("GRIRESULTITEM",null);setSessionValue("GRIRESULTITEM1",null);setSessionValue("GRIRESULTITEM2",null);setSessionValue("GRIRESULTITEM3",null);setSessionValue("GRIRESULTITEM4",null);setSessionValue("GRIRESULTITEM5",null);setSessionValue("GRIRESULTITEM6",null)}function get_select_list_xml_dep(g,l,k,j,e,a){griClearItem(l,e);var d=null;var c=html_GetElement(l);var b=new htmldb_Get(null,html_GetElement("pFlowId").value,"APPLICATION_PROCESS="+k,0);b.add(j+e,g.value);b.add("PARAM_DEP"+e,l);b.add("PARAM_INDEP",a);b.add(j,g.value);gReturn=b.get("XML");if(gReturn&&c){var m=gReturn.getElementsByTagName("option").length;c.length=0;for(var f=0;f<m;f++){var h=gReturn.getElementsByTagName("option")[f];appendToSelect(c,h.getAttribute("value"),h.firstChild.nodeValue)}}b=null}function ValidateGRIText(a,c,d){var b=new htmldb_Get(null,html_GetElement("pFlowId").value,"APPLICATION_PROCESS=ValidateGRIText",0);b.add("GRITESTRESULTITEM",d.value);b.add("GRIPARAM",c);b.add("GRIMODULE",a);id=b.get();b=null;if(id!="YES"){displayError("IM","12",c)}}function get_select_list_xml_dep2(h,n,k,a,m,l,f,b){var e=null;var d=html_GetElement(n);var c=new htmldb_Get(null,html_GetElement("pFlowId").value,"APPLICATION_PROCESS="+m,0);c.add("GRIRESULTITEM1",h.value);c.add("GRIRESULTITEM2",k.value);c.add("PARAM_DEP1",n);c.add("PARAM_DEP2",a);c.add("PARAM_INDEP",b);c.add(l,h.value);gReturn=c.get("XML");alert(gReturn);if(gReturn&&d){var o=gReturn.getElementsByTagName("option").length;d.length=0;for(var g=0;g<o;g++){var j=gReturn.getElementsByTagName("option")[g];appendToSelect(d,j.getAttribute("value"),j.firstChild.nodeValue)}}c=null}function appendToSelect(d,b,c){var a=document.createElement("option");a.value=b;if(document.all){d.options.add(a);a.innerText=c}else{a.appendChild(document.createTextNode(c));d.appendChild(a)}}function callReportUrl(a,b,d){var c=window.open(a,"Reports","menubar=no,width=550,height=550,toolbar=no,scrollbars=no,resizable=no,status=yes");c.focus()}function hideDiv(a){document.getElementById(a).style.visibility="hidden"}function displayGRI(c){var b;var d=document.getElementById("griWin");var a=new htmldb_Get(null,html_GetElement("pFlowId").value,"APPLICATION_PROCESS=displayGRI",0);a.add("MODULE_ID",c);b=a.get();a=null;clearAllItems();d.innerHTML=b;d.style.visibility="visible";document.getElementById("P50_MODULE").value=c;setSessionValue("P50_MODULE",c)}function displayRoadworkDetails(c){var b;var d=document.getElementById("roadworksWin");var a=new htmldb_Get(null,html_GetElement("pFlowId").value,"APPLICATION_PROCESS=displayRoadworkDetails",0);a.add("ROAD_REF",c);b=a.get();a=null;$("#drillh").append('<div id="dispRW"></div>');$("#dispRW").append(b).dialog({bgiframe:true,resizable:false,modal:true,title:"Details for : "+c,autoOpen:true,position:"center",hide:"blind",show:"blind",width:400,zIndex:4999,overlay:{backgroundColor:"#000",opacity:0.5},buttons:{Close:function(){$(this).dialog("close")}}})}function showHelp(c){var b;var a=new htmldb_Get(null,html_GetElement("pFlowId").value,"APPLICATION_PROCESS=displayWebHelp",0);a.add("MODULE_ID",c);b=a.get();a=null;panel1=new YAHOO.widget.Panel("helpPanel",{width:"600px",height:"400px",visible:true,draggable:true,close:true});panel1.setHeader("Help "+b);panel1.setBody("<iframe src="+b+" width=580px height=375px></iframe>");panel1.setFooter("");panel1.render("showHelp")}function exorpopupFieldHelp(b){var c;var a=new htmldb_Get(null,html_GetElement("pFlowId").value,"APPLICATION_PROCESS=getItemHelpText",0);a.add("ERROR_ID",b);c=a.get();a=null;panel1=new YAHOO.widget.Panel("popUpHelpPanel",{visible:true,draggable:true,close:true,constraintoviewport:true,underlay:"none"});panel1.setHeader("Hints & Tips");panel1.setBody(c);panel1.setFooter('<a href="javascript:showOnlineHelp();">Online Help</a>');panel1.render("showHelpPanel")}function podInfo(e){var b=e.attr("value");var c;var d;var a=new htmldb_Get(null,html_GetElement("pFlowId").value,"APPLICATION_PROCESS=getItemHelpText",0);a.add("ERROR_ID",b);d=a.get();a=null;$("#dispInfo").dialog("option","title","POD Info : "+b).empty().append(d).dialog("open")}function AjaxReportRefresh(c){var b=c;var a=new htmldb_Get(null,$x("pFlowId").value,null,911);a.add("P911_IBM_IBA_ID",b);gReturn=a.get(null,"<ajax:BOX_BODY>","</ajax:BOX_BODY>");a=null;panel1=new YAHOO.widget.Panel("reportModules",{width:"400px",visible:true,draggable:false,close:true,fixedcenter:true});panel1.setHeader("Modules");panel1.setBody(gReturn);panel1.setFooter("");panel1.render("AjaxReport");return}function setNetLocation(a,b){if(opener.document.forms.wwv_flow.p_t01.length>1){var e=opener.document.forms.wwv_flow.p_t01[13];e.value=a;opener.document.forms.wwv_flow.p_t01[13].focus();var d=opener.document.forms.wwv_flow.p_t02[13];d.value=a;var c=opener.document.forms.wwv_flow.p_t03[13];c.value=b;opener.document.getElementById("P0_LOCATION_INPUT").value=a}else{var e=opener.document.forms.wwv_flow.p_t01;e.value=a;opener.document.forms.wwv_flow.p_t01.focus();var d=opener.document.forms.wwv_flow.p_t02;d.value=a;var c=opener.document.forms.wwv_flow.p_t03;c.value=b;opener.document.getElementById("P0_LOCATION").value=a}if(e.getAttribute("onchange")||e.onchange){e.onchange()}window.close();if(!(e.disabled||e.type=="HIDDEN")){e.focus()}}function passbackSurname(b,a){if(opener.document.forms.wwv_flow.p_t05.length>1){var d=opener.document.forms.wwv_flow.p_t05[13];d.value=b;opener.document.forms.wwv_flow.p_t06[13].focus();var c=opener.document.forms.wwv_flow.p_t06[13];c.value=a}else{var d=opener.document.forms.wwv_flow.p_t05;d.value=b;opener.document.forms.wwv_flow.p_t05.focus();var c=opener.document.forms.wwv_flow.p_t06;c.value=a}if(d.getAttribute("onchange")||d.onchange){d.onchange()}window.close();if(!(d.disabled||d.type=="HIDDEN")){d.focus()}}function passbackPostcode(a){if(opener.document.forms.wwv_flow.p_t07.length>1){var c=opener.document.forms.wwv_flow.p_t07[13];c.value=a;opener.document.forms.wwv_flow.p_t07[13].focus();var b=opener.document.forms.wwv_flow.p_t08[13];b.value=a}else{var c=opener.document.forms.wwv_flow.p_t07;c.value=a;opener.document.forms.wwv_flow.p_t07.focus();b=opener.document.forms.wwv_flow.p_t08;b.value=a}if(c.getAttribute("onchange")||c.onchange){c.onchange()}window.close();if(!(c.disabled||c.type=="HIDDEN")){c.focus()}}function passbackRespOf(a,c){if(opener.document.forms.wwv_flow.p_t09.length>1){var d=opener.document.forms.wwv_flow.p_t09[13];d.value=a;opener.document.forms.wwv_flow.p_t09[13].focus();var b=opener.document.forms.wwv_flow.p_t10[13];b.value=c}else{var d=opener.document.forms.wwv_flow.p_t09;d.value=a;opener.document.forms.wwv_flow.p_t09.focus();b=opener.document.forms.wwv_flow.p_t10;b.value=c}if(d.getAttribute("onchange")||d.onchange){d.onchange()}window.close();if(!(d.disabled||d.type=="HIDDEN")){d.focus()}}function passbackTown(a,b){if(opener.document.forms.wwv_flow.p_t16.length>1){var e=opener.document.forms.wwv_flow.p_t16[13];e.value=a;opener.document.forms.wwv_flow.p_t16[13].focus();var d=opener.document.forms.wwv_flow.p_t17[13];d.value=b;var c=opener.document.forms.wwv_flow.p_t19[13];c.value=a}else{var e=opener.document.forms.wwv_flow.p_t16;e.value=a;opener.document.forms.wwv_flow.p_t17.focus();d=opener.document.forms.wwv_flow.p_t17;d.value=b;c=opener.document.forms.wwv_flow.p_t19;c.value=a}if(e.getAttribute("onchange")||e.onchange){e.onchange()}window.close();if(!(e.disabled||e.type=="HIDDEN")){e.focus()}}function passbackStreet(a,j,b,h){if(opener.document.forms.wwv_flow.p_t18.length>1){var e=opener.document.forms.wwv_flow.p_t18[13];e.value=a;opener.document.forms.wwv_flow.p_t18[13].focus();var i=opener.document.forms.wwv_flow.p_t16[13];i.value=b;var g=opener.document.forms.wwv_flow.p_t15[13];g.value=h;var f=opener.document.forms.wwv_flow.p_t19[13];f.value=b;var d=opener.document.forms.wwv_flow.p_t20[13];d.value=a;var c=opener.document.forms.wwv_flow.p_t21[13];c.value=j}else{var e=opener.document.forms.wwv_flow.p_t18;e.value=a;opener.document.forms.wwv_flow.p_t18.focus();var i=opener.document.forms.wwv_flow.p_t16;i.value=b;var g=opener.document.forms.wwv_flow.p_t17;g.value=h;var f=opener.document.forms.wwv_flow.p_t19;f.value=b;var d=opener.document.forms.wwv_flow.p_t20;d.value=a;var c=opener.document.forms.wwv_flow.p_t21;c.value=j}if(e.getAttribute("onchange")||e.onchange){e.onchange()}window.close();if(!(e.disabled||e.type=="HIDDEN")){e.focus()}}function displayNetSearch(f,j,g,d,e,i,h){var b=document.getElementById(g).value;var c=new htmldb_Get(null,$x("pFlowId").value,null,e);c.add(d,b);gReturn=c.get();c=null;var a="f?p="+f+":"+e+":"+j;popUp2(a,i,h);return}function displayNetSearch2(g,m,h,d,i,e,f,l,j){var b=document.getElementById(h).value;var k=document.getElementById(i).value;var c=new htmldb_Get(null,$x("pFlowId").value,null,f);c.add(d,b);c.add(e,k);gReturn=c.get();c=null;var a="f?p="+g+":"+f+":"+m;popUp2(a,l,j);return}function displayENQList(c,d,a){id=document.getElementById("P0_ENQ_ID_INPUT").value;sname=document.getElementById("P0_SURNAME").value;pcode=document.getElementById("P0_POSTCODE").value;respof=document.getElementById("P0_RESP_OF").value;values=id+","+sname+","+pcode+","+respof;var b="f?p="+c+":"+a+":"+d+"::::P20_ENQ_ID,P20_SURNAME,P20_POSTCODE,P20_RESP_OF:"+values;popUp2(b,1000,700);return}function showDrillDown(j,e,d,s,p,r,n,q,l,o,i,m,g){if(d!=51){var b=parseInt(j)+parseInt(d);doDrillDown("IM"+b,p,n,l,i,g)}else{var k="";if(s!=null){k=s+":"+p}if(r!=null){k=s+","+r+":"+p+","+n}if(q!=null){k=s+","+r+","+q+":"+p+","+n+","+l}if(o!=null){k=s+","+r+","+q+","+o+":"+p+","+n+","+l+","+i}if(m!=null){k=s+","+r+","+q+","+o+","+m+":"+p+","+n+","+l+","+i+","+g}var f=$v("pInstance");var c="f?p="+j+":"+d+":"+f+"::::"+k;var h=new htmldb_Get(null,html_GetElement("pFlowId").value,"APPLICATION_PROCESS=displayGRI",0);h.add("MODULE_ID",p);var a=h.get();h=null;$("#grixxx").empty().append(a)}}function popUpReport(a){var b=window.open(a,"Drilldown","menubar=no,width=1000,height=700,toolbar=yes,scrollbars=yes,resizable=yes,status=ye");b.focus()}function validLocation(){var b;var a=new htmldb_Get(null,html_GetElement("pFlowId").value,"APPLICATION_PROCESS=IsValidLocation",0);a.add("NETWORK_NAME",document.getElementById("P0_NETWORK_INPUT").value.toUpperCase());b=a.get();a=null;return b}function validEnquiry(){var b;var a=new htmldb_Get(null,html_GetElement("pFlowId").value,"APPLICATION_PROCESS=IsValidEnquiry",0);a.add("DOC_ID",document.getElementById("P0_ENQ_ID_INPUT").value);a.add("ENQ_ID_NAME",document.getElementById("P0_SURNAME").value);a.add("POSTCODE_NAME",document.getElementById("P0_POSTCODE_INPUT").value);a.add("RESP_OF_NAME",document.getElementById("P0_RESP_OF_INPUT").value);b=a.get();a=null;return b}function validEnquiryLocation(){var b;var a=new htmldb_Get(null,html_GetElement("pFlowId").value,"APPLICATION_PROCESS=checkEnqLocation",0);a.add("DOC_ID",document.getElementById("P0_ENQ_ID_INPUT").value);a.add("ENQ_ID_NAME",document.getElementById("P0_SURNAME").value);a.add("POSTCODE_NAME",document.getElementById("P0_POSTCODE_INPUT").value);a.add("RESP_OF_NAME",document.getElementById("P0_RESP_OF_INPUT").value);b=a.get();a=null;return b}function validRoadworks(){var b;var a=new htmldb_Get(null,html_GetElement("pFlowId").value,"APPLICATION_PROCESS=isValidRoadworkData",0);a.add("P_FROM_DATE",$("#PX_FROM").val());a.add("P_TO_DATE",$("#PX_TO").val());a.add("P_TOWN",$("#PX_TOWN").val());a.add("P_STREET",$("#PX_STREET").val());b=a.get();a=null;return b}function validRoadworksLocation(){var b;var a=new htmldb_Get(null,html_GetElement("pFlowId").value,"APPLICATION_PROCESS=checkRoadWorkAtLocation",0);a.add("P_FROM_DATE",$("#PX_FROM").val());a.add("P_TO_DATE",$("#PX_TO").val());a.add("P_TOWN",$("#PX_TOWN").val());a.add("P_STREET",$("#PX_STREET").val());b=a.get();a=null;return b}function displayError(d,c,a){var b=new htmldb_Get(null,html_GetElement("pFlowId").value,"APPLICATION_PROCESS=raisener",0);b.add("PRODUCT",d);b.add("ERROR_ID",c);if(a!="NONE"){b.add("SUPP_INFO",document.getElementById(a).value)}else{b.add("SUPP_INFO","")}id=b.get();b=null;alert(id)}function validateMapCall(a,b){var c=validLocation();if(c=="NO\n"){displayError("IM",1,"P0_NETWORK_INPUT")}else{if(b==1){setMapQueryType(a);doSubmit("T_MAP")}else{setMapQueryType(a);executeLatestQuery()}}}function validateENQButton(a,c,b,e){var d=validEnquiry();if(d!="YES"){switch(d){case"2":displayError("IM",d,"P0_ENQ_ID_INPUT");break;case"3":displayError("IM",d,"P0_SURNAME_INPUT");break;case"4":displayError("IM",d,"P0_POSTCODE_INPUT");break;case"5":displayError("IM",d,"P0_RESP_OF_INPUT");break;default:displayError("IM",d,"NONE")}}else{if(a!=""){var d=validEnquiryLocation();if(d=="NO"){displayError("IM",11,"NONE")}else{if(c==1){setMapQueryType(a);doSubmit("T_MAP")}else{setMapQueryType(a);executeLatestQuery()}}}else{displayENQList(b,e,20)}}}function validateRoadworkButton(a,c,b,e){var d=validRoadworks();if(d!="YES"){switch(d){case"7":displayError("IM",d,"P0_FROM_DATE");break;case"8":displayError("IM",d,"P0_TOWN_INPUT");break;case"9":displayError("IM",d,"P0_STREET_INPUT");break;default:displayError("IM",d,"NONE")}}else{if(a!=""){var d=validRoadworksLocation();if(d=="NO"){displayError("IM",10,"NONE")}else{if(c==1){setMapQueryType(a);goMapPage($("#PX_REF").val(),$("#PX_FROM").val(),$("#PX_TO").val(),$("#PX_TOWN").val(),$("#PX_STREET").val(),$("#PX_NSG").val(),$("#PX_IMPACT_SEVERE").val(),$("#PX_IMPACT_MODERATE").val(),$("#PX_IMPACT_SLIGHT").val(),$("#PX_IMPACT_MINIMAL").val())}else{setMapQueryType(a);executeLatestQuery()}}}else{showRoadworks(b,e,10)}}}function checkLocationSet(){if(document.getElementById("P0_NETWORK_INPUT").value!=""){toggleLocationLabel("SHOW")}}function toggleLocationLabel(a){var b=document.getElementById("P0_LOCATION_LABEL");var c=document.getElementById("P0_LOCATION");document.getElementById("P0_LOCATION").innerHTML=document.getElementById("P0_NETWORK_INPUT").value;if(a=="SHOW"&&document.getElementById("P0_SET_LOCATION").value=="Y"){YAHOO.util.Dom.removeClass(b,"locationSetTo");YAHOO.util.Dom.addClass(b,"locationSetToShow");YAHOO.util.Dom.removeClass(c,"locationSetTo");YAHOO.util.Dom.addClass(c,"locationSetToShow")}else{YAHOO.util.Dom.removeClass(b,"locationSetToShow");YAHOO.util.Dom.addClass(b,"locationSetTo");YAHOO.util.Dom.removeClass(c,"locationSetToShow");YAHOO.util.Dom.addClass(c,"locationSetTo")}}function validateLocationSet(a){var b=validLocation();if(b=="NO\n"){displayError("IM",1,"P0_NETWORK_INPUT")}else{if(a==1){toggleLocationLabel("SHOW");document.getElementById("P0_SET_LOCATION").value="Y";YAHOO.util.Dom.get("P0_SET_LOCATION").value="Y";doSubmit("T_HOME")}}}function doLocationClear(a){toggleLocationLabel("CLEAR");YAHOO.util.Dom.get("P0_SET_LOCATION").value="N";clearRoad();if(a==1){doSubmit("T_HOME")}clearMapThemes(a)}var getElementsByClassName=function(b,a,c){if(document.getElementsByClassName){getElementsByClassName=function(j,m,h){h=h||document;var d=h.getElementsByClassName(j),l=(m)?new RegExp("\\b"+m+"\\b","i"):null,e=[],g;for(var f=0,k=d.length;f<k;f+=1){g=d[f];if(!l||l.test(g.nodeName)){e.push(g)}}return e}}else{if(document.evaluate){getElementsByClassName=function(o,r,n){r=r||"*";n=n||document;var g=o.split(" "),p="",l="http://www.w3.org/1999/xhtml",q=(document.documentElement.namespaceURI===l)?l:null,h=[],d,f;for(var i=0,k=g.length;i<k;i+=1){p+="[contains(concat(' ', @class, ' '), ' "+g[i]+" ')]"}try{d=document.evaluate(".//"+r+p,n,q,0,null)}catch(m){d=document.evaluate(".//"+r+p,n,null,0,null)}while((f=d.iterateNext())){h.push(f)}return h}}else{getElementsByClassName=function(r,u,q){u=u||"*";q=q||document;var h=r.split(" "),t=[],d=(u==="*"&&q.all)?q.all:q.getElementsByTagName(u),p,j=[],o;for(var i=0,e=h.length;i<e;i+=1){t.push(new RegExp("(^|\\s)"+h[i]+"(\\s|$)"))}for(var g=0,s=d.length;g<s;g+=1){p=d[g];o=false;for(var f=0,n=t.length;f<n;f+=1){o=t[f].test(p.className);if(!o){break}}if(o){j.push(p)}}return j}}}return getElementsByClassName(b,a,c)};$(document).ready(function(){var b;var a});jQuery.url=function(){var e={};var b={};var d={url:window.location,strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var c=function(){str=decodeURI(d.url);var j=d.parser[d.strictMode?"strict":"loose"].exec(str);var l={};var k=14;while(k--){l[d.key[k]]=j[k]||""}l[d.q.name]={};l[d.key[12]].replace(d.q.parser,function(m,i,n){if(i){l[d.q.name][i]=n}});return l};var f=function(i){if(!b.length){a()}if(i=="base"){if(b.port!==null&&b.port!==""){return b.protocol+"://"+b.host+":"+b.port+"/"}else{return b.protocol+"://"+b.host+"/"}}return(b[i]==="")?null:b[i]};var h=function(i){if(!b.length){a()}return(b.queryKey[i]===null)?null:b.queryKey[i]};var a=function(){b=c();g()};var g=function(){var i=b.path;e=[];e=b.path.length==1?{}:(i.charAt(i.length-1)=="/"?i.substring(1,i.length-1):path=i.substring(1)).split("/")};return{setMode:function(i){strictMode=i=="strict"?true:false;return this},setUrl:function(i){d.url=i===undefined?window.location:i;a();return this},segment:function(i){if(!b.length){a()}if(i===undefined){return e.length}return(e[i]===""||e[i]===undefined)?null:e[i]},attr:f,param:h}}();$(document).ready(function(){$("#onLineHelp").dialog({bgiframe:true,resizable:true,modal:false,title:"Online Help",autoOpen:false,hide:"blind",width:750,height:500,overlay:{backgroundColor:"#000",opacity:0.5},buttons:{Close:function(){$(this).dialog("close")}}})});$(document).ready(function(){$("#docAss").dialog({bgiframe:true,resizable:true,modal:true,title:"Associated documents",autoOpen:false,width:750,height:500,zIndex:4999,overlay:{backgroundColor:"#000",opacity:0.5},buttons:{Close:function(){$(this).dialog("close")}}})});$(document).ready(function(){$("#gri").dialog({bgiframe:true,resizable:true,modal:true,title:"Associated documents",autoOpen:false,width:750,height:500,overlay:{backgroundColor:"#000",opacity:0.5},buttons:{Close:function(){$(this).dialog("close")}}})});function showOnlineHelp(){var a=jQuery.url.attr("host");$("#onLineHelp").dialog("option","title","Online Help");$("#jqmContent").attr("src","http://"+a+"/im4_framework/WebHelp/Information_Manager.htm");$("#onLineHelp").dialog("open")}$(document).ready(function(){var a=$("a:contains(Help) && !a:contains(show_ir_help)");a.removeAttr("href");a.bind("click",function(){showOnlineHelp()}).addClass("help-hover")});function clearMapThemes(a){if(a==4){removeTemplated()}}$(document).ready(function(){$("td.datepicker").next("td").remove().end().children("input[type!=hidden]").datepicker({dateFormat:"dd-M-yy",closeText:"X",clearText:"",showAnim:"scale",showOptions:{origin:["top","left"]},showOn:"button",buttonImage:"/i/asfdcldr.gif",buttonImageOnly:true,changeYear:true,changeMonth:true})});$(document).ready(function(){$("#themeColumnsContainer").dialog({bgiframe:true,resizable:true,modal:true,title:"Theme Columns",autoOpen:false,position:"middle",hide:"blind",show:"blind",width:700,height:600,overlay:{backgroundColor:"#000",opacity:0.5},buttons:{Close:function(){$(this).dialog("close")}}})});$(document).ready(function(){$("#searchColumnsContainer").dialog({bgiframe:true,resizable:true,modal:true,title:"Search Columns",autoOpen:false,position:"middle",hide:"blind",show:"blind",width:700,height:600,overlay:{backgroundColor:"#000",opacity:0.5},buttons:{Close:function(){$(this).dialog("close")}}})});function showThemeColumns(a){var b="f?p="+$v("pFlowId")+":935:"+$v("pInstance")+"::::P935_THEME_ID:"+a;$("#themeColumnsContent").attr("src",b);$("#themeColumnsContainer").dialog("open")}function showAdminSearchCols(b){var a="f?p="+$v("pFlowId")+":981:"+$v("pInstance")+"::::P981_ITTS_SEQ:"+b;$("#searchColumnsContent").attr("src",a);$("#searchColumnsContainer").dialog("open")}$(document).ready(function(){$("#MapMoreDetailsContent").dialog({bgiframe:true,resizable:true,modal:false,title:"Theme Columns",autoOpen:false,position:["left","top"],hide:"blind",show:"blind",width:700,height:400,zIndex:4999,overlay:{backgroundColor:"#000",opacity:0.5},buttons:{Close:function(){$(this).dialog("close")}}})});function showMapMoreDetailsContent(c,b){var a=new htmldb_Get(null,html_GetElement("pFlowId").value,"APPLICATION_PROCESS=moremapdetails",0);a.add("ITEM_ID",c);a.add("THEME_ID",b);var d=a.get();a=null;$("#MapMoreDetailsContent").empty().append("<b>"+d+"</b>").dialog("open")}$(document).ready(function(){$("#showmaplegend, #showmapprint, #searchmapButton, #refreshButton").button()});$(document).ready(function(){var a=$v("pFlowStepId");if(a!=4){return}$("#searchmap").autocomplete("APEX",{apexProcess:"AUTO_NETWORK",width:400,multiple:false,matchContains:true,cacheLength:1,max:100,delay:150,minChars:3,matchSubset:false});$("#searchmap").result(function(b,d,c){if(d){$("#P4_NE_ID").val(d[1]);$("#P4_NE_UNIQUE").val(d[2])}})});