/* -----------------------------------------------------------------------------
 --
 --   PVCS Identifiers :-
 --
 --       pvcsid           : $Header:   //new_vm_latest/archives/customer/tfl/Bespoke PODS/im4_framework_4500/im4_framework_4500/js/cmode.js-arc   1.0   Jan 14 2016 21:37:58   Sarah.Williams  $
 --       Module Name      : $Workfile:   cmode.js  $
 --       Date into PVCS   : $Date:   Jan 14 2016 21:37:58  $
 --       Date fetched Out : $Modtime:   Nov 15 2011 17:50:16  $
 --       PVCS Version     : $Revision:   1.0  $
 --       Based on SCCS version :
 --
 --
 -----------------------------------------------------------------------------
 --	Copyright (c) exor corporation ltd, 2009
 -----------------------------------------------------------------------------
 */
$(document).ready(function(){var myLayout=$("body").layout({north__size:70,north__closable:true,north__resizable:false,north__spacing_open:6,north__spacing_closed:6,north__togglerLength_open:60,north__togglerLength_closed:60,north__togglerAlign_open:"center",north__togglerAlign_closed:"center",south__closable:false,south__resizable:true,south__spacing_open:0,west__size:260,west__minSize:180,west__maxSize:340,west__spacing_open:18,west__spacing_closed:18,west__resizerDragOpacity:0.75,west__togglerLength_open:60,west__togglerLength_closed:60,west__togglerAlign_open:"center",west__togglerAlign_closed:"center",west__onresize:function(){$(".cmode_Accordion").accordion("resize")}});var accordionActive=parseInt($.cookie("cmode_AccordionActive"));if(accordionActive<0){accordionActive=0}$(".cmode_Accordion").accordion({header:"div.cmode_AccordionHeader",fillSpace:true,autoHeight:true,active:accordionActive});$("#cmode_BoxBody:not(:has( > table))").wrapInner("<table><tr><td></td></tr></table>");$("#cmode_BoxBody > table > tbody > tr > td").each(function(i){$(this).addClass("cmode_Column");$(this).attr("id","cmode_Column_"+i)});$(".cmode_Column").width(100/$(".cmode_Column").size()+"%");$("body:not(#cmode_LoginPage) .cmode_Column").sortable({connectWith:".cmode_Column",placeholder:"cmode_SortablePlaceholder",forcePlaceholderSize:true,handle:".cmode_RegionTitle",distance:5,tolerance:"pointer",stop:function(event,ui){get=new htmldb_Get(null,null,"APPLICATION_PROCESS=moveRegion",null);get.add("F_MOVE_COLUMN_ID",ui.item.parent().get(0).id);get.add("F_MOVE_REGION_ID",ui.item.attr("id"));get.add("F_APP_PAGE_ID",$("#pFlowStepId").val());if(ui.item.prev(".cmode_Region").get(0)){get.add("F_MOVE_PREV_REGION",ui.item.prev(".cmode_Region").get(0).id)}gReturn=get.get()}});function setupRegions(data){if(data!=""){columns=data.split("|");for(c=0;c<columns.length;c++){if(columns[c]!=""){regions=columns[c].split(",");for(r=0;r<regions.length;r++){$("#"+regions[r]).appendTo("#cmode_Column_"+c)}}}}}get=new htmldb_Get(null,$("#pFlowId").val(),"APPLICATION_PROCESS=getMoveRegion",0);get.add("F_APP_PAGE_ID",$("#pFlowStepId").val());gReturn=get.get();gReturn=gReturn.replace(/\n/g,"");if(gReturn!=""){setupRegions(gReturn);get=new htmldb_Get(null,$("#pFlowId").val(),"APPLICATION_PROCESS=checkMoveRegion",0);get.add("F_APP_PAGE_ID",$("#pFlowStepId").val());gReturn=get.get()}else{get=new htmldb_Get(null,$("#pFlowId").val(),"APPLICATION_PROCESS=setMoveRegion",0);get.add("F_APP_PAGE_ID",$("#pFlowStepId").val());gReturn=get.get()}get=new htmldb_Get(null,$("#pFlowId").val(),"APPLICATION_PROCESS=showHideState",0);get.add("F_APP_PAGE_ID",$("#pFlowStepId").val());gReturn=get.get();if(gReturn!=""){var regions=gReturn.split("|");for(r=0;r<regions.length;r++){$("#"+regions[r]+" > div > .cmode_HideShowToggle").toggleClass("cmode_HideShowToggle-show",0);$("#"+regions[r]+" > .cmode_RegionBody").slideToggle("normal")}}$(".cmode_HideShowToggle").click(function(){$(this).toggleClass("cmode_HideShowToggle-show",0);$(this).parent().next().slideToggle("normal");var get=new htmldb_Get(null,$("#pFlowId").val(),"APPLICATION_PROCESS=updateShowHideState",0);get.add("F_APP_PAGE_ID",$("#pFlowStepId").val());get.add("F_MOVE_REGION_ID",$(this).parent().parent(".cmode_HideShowRegion").attr("id"));var gReturn=get.get()});$(".cmode_VerticalSidebarList ul").treeview({collapsed:true,unique:true,persist:"cookie"});$("#batree").treeview({collapsed:true,unique:true,persist:"cookie"});$(window).unload(function(){var accordionActive=$(".cmode_Accordion div.cmode_AccordionHeader").index($(".ui-state-active"));$.cookie("cmode_AccordionActive",accordionActive)});$("#apexir_rollover").appendTo("body");$("td:not(:empty) ~ td:empty, th:not(:empty) ~ th:empty").filter(":not(.cmode_Column)").html("<br />");cmode_FixAPEXReports();$("table.cmode_ReportData th a, table.cmode_ReportData .pagination a").live("click",function(){eval($(this).attr("href").replace("javascript:",""));cmode_FixAPEXReports();$(".cmode_Drilldown tr.cmode_ReportData:not(tr.cmode_ReportData:has(th)) + tr").addClass("cmode_ReportDetail");$(".cmode_ReportDetail").prev("tr").children("td:last-child").html('<span class="arrow"></span>');$(".cmode_ReportDetail").hide();return false});$("tr.cmode_ReportData td:not(.cmode_ReportDivider)").live("mouseover",function(){$(this).parent().toggleClass("cmode_RowHighlight")});$("tr.cmode_ReportData td:not(.cmode_ReportDivider)").live("mouseout",function(){$(this).parent().toggleClass("cmode_RowHighlight")});$(".cmode_Drilldown tr.cmode_ReportData:not(tr.cmode_ReportData:has(th)) + tr").addClass("cmode_ReportDetail");$(".cmode_ReportDetail").prev("tr").children("td:last-child").html('<span class="arrow"></span>');$(".cmode_ReportDetail").hide();$(".cmode_Drilldown .arrow").live("click",function(){$(this).closest("tr").next("tr").toggle();$(this).toggleClass("up")});$(".cmode_PopupRegion").each(function(){$(this).attr("title",$(this).children(".cmode_PopupTitle").text())});$(".cmode_PopupRegion .cmode_PopupTitle").remove();$(".cmode_PopupRegion").dialog({autoOpen:false});$("#cmode_ModalPopup",top.document).prev().children(".ui-dialog-title").text($("title").html())});function cmode_FixAPEXReports(){}function cmode_simplePopup(e,d,a){var b=$("#"+e);if(b.closest(".ui-dialog").css("display")=="none"){if(!d){d=500}if(!a){a=400}b.dialog("option","width",d);b.dialog("option","height",a);b.dialog("open")}}function cmode_modalPopup(b,d,a){$("#cmode_ModalPopup").remove();$("body").append('<div id="cmode_ModalPopup" class="cmode_PopupRegion"><iframe src="'+b+'" frameborder="0"></iframe></div>');if(!d){d=$(window).width()*0.8}if(!a){a=$(window).height()*0.8}$("#cmode_ModalPopup").dialog({width:d,height:a,modal:true,resizable:false,draggable:false})};